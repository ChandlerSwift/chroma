
<lexer>
  <config>
    <name>LilyPond</name>
    <alias>lilypond</alias>
    <filename>*.ly</filename>
    <dot_all>true</dot_all>
  </config>
  <rules>
    <state name="root">
      <rule pattern="\s+"><token type="TextWhitespace"/></rule>
      <rule pattern="%\{.*?%\}"><token type="CommentMultiline"/></rule>
      <rule pattern="%.*?$"><token type="CommentSingle"/></rule>
      <rule pattern="#\}"><token type="Punctuation"/><pop depth="1"/></rule>
      <rule pattern="[#$]@?"><token type="Punctuation"/><push state="value"/></rule>
      <rule pattern="(?x)
               \\\\
               | (?&lt;= \s ) (?: -- | __ )
               | [{}&lt;&gt;=.,:|]
              "><token type="Punctuation"/></rule>
      <rule pattern="(R|a|a\-flat|a\-flatflat|a\-natural|a\-sharp|a\-sharpsharp|ab|acousticbassdrum|acousticsnare|ad|adb|add|aeh|aes|aeseh|aeses|aess|aesseh|aessess|af|aff|afhb|afhd|agh|agl|ah|aih|ais|aisih|aisis|aiss|aissih|aississ|aqf|aqs|as|asah|asas|aseh|ases|ashb|ashd|ass|asseh|assess|atqb|atqd|atqf|atqs|ax|b|b\-flat|b\-flatflat|b\-natural|b\-sharp|b\-sharpsharp|bassdrum|bb|bd|bda|bdb|bdd|beh|bes|beseh|beses|bess|bf|bff|bfhb|bfhd|bih|bis|bisih|bisis|boh|bohm|boho|bol|bolm|bolo|bqf|bqs|bs|bshb|bshd|bss|btqb|btqd|btqf|btqs|bx|c|c\-flat|c\-flatflat|c\-natural|c\-sharp|c\-sharpsharp|cab|cabasa|cb|cd|cdb|cdd|ceh|ces|ceseh|ceses|cess|cesseh|cessess|cf|cff|cfhb|cfhd|cgh|cghm|cgho|cgl|cglm|cglo|chinesecymbal|cih|cis|cisih|cisis|ciss|cissih|cississ|cl|claves|closedhihat|cowbell|cqf|cqs|crashcymbal|crashcymbala|crashcymbalb|cs|cshb|cshd|css|ctqb|ctqd|ctqf|ctqs|cuim|cuio|cx|cymc|cymca|cymcb|cymch|cymr|cymra|cymrb|cyms|d|d\-flat|d\-flatflat|d\-natural|d\-sharp|d\-sharpsharp|db|dd|ddb|ddd|deh|des|deseh|deses|dess|desseh|dessess|df|dff|dfhb|dfhd|dih|dis|disih|disis|diss|dissih|dississ|do|dob|dobb|dobhb|dobqt|dobsb|dobtqt|docb|docs|dod|dodd|dodsd|dohb|dohk|dok|dokhk|dokk|doqb|doqd|doqs|dos|dosb|dosd|dosqt|doss|dostqt|dotcb|dotcs|dotqb|dotqd|dotqs|dox|dqf|dqs|ds|dshb|dshd|dss|dtqb|dtqd|dtqf|dtqs|dx|e|e\-flat|e\-flatflat|e\-natural|e\-sharp|e\-sharpsharp|eb|ed|edb|edd|eeh|ees|eeseh|eeses|eess|eesseh|eessess|ef|eff|efhb|efhd|eh|eih|eis|eisih|eisis|eiss|eissih|eississ|electricsnare|eqf|eqs|es|eseh|eses|eshb|eshd|ess|esseh|essess|etqb|etqd|etqf|etqs|ex|f|f\-flat|f\-flatflat|f\-natural|f\-sharp|f\-sharpsharp|fa|fab|fabb|fabhb|fabqt|fabsb|fabtqt|facb|facs|fad|fadd|fadsd|fahb|fahk|fak|fakhk|fakk|faqb|faqd|faqs|fas|fasb|fasd|fasqt|fass|fastqt|fatcb|fatcs|fatqb|fatqd|fatqs|fax|fb|fd|fdb|fdd|feh|fes|feseh|feses|fess|fesseh|fessess|ff|fff|ffhb|ffhd|fih|fis|fisih|fisis|fiss|fissih|fississ|fqf|fqs|fs|fshb|fshd|fss|ftqb|ftqd|ftqf|ftqs|fx|g|g\-flat|g\-flatflat|g\-natural|g\-sharp|g\-sharpsharp|gb|gd|gdb|gdd|geh|ges|geseh|geses|gess|gesseh|gessess|gf|gff|gfhb|gfhd|gih|gis|gisih|gisis|giss|gissih|gississ|gqf|gqs|gs|gshb|gshd|gss|gtqb|gtqd|gtqf|gtqs|gui|guil|guiro|guis|gx|h|halfopenhihat|handclap|hc|heh|heseh|heses|hesseh|hessess|hh|hhc|hhho|hho|hhp|hiagogo|hibongo|hiconga|highfloortom|hightom|hih|hihat|himidtom|his|hisidestick|hisih|hisis|hiss|hissih|hississ|hitimbale|hiwoodblock|la|lab|labb|labhb|labqt|labsb|labtqt|lacb|lacs|lad|ladd|ladsd|lahb|lahk|lak|lakhk|lakk|laqb|laqd|laqs|las|lasb|lasd|lasqt|lass|lastqt|latcb|latcs|latqb|latqd|latqs|lax|loagogo|lobongo|loconga|longguiro|longwhistle|losidestick|lotimbale|lowfloortom|lowmidtom|lowoodblock|lowtom|mar|maracas|mi|mib|mibb|mibhb|mibqt|mibsb|mibtqt|micb|mics|mid|midd|midsd|mihb|mihk|mik|mikhk|mikk|miqb|miqd|miqs|mis|misb|misd|misqt|miss|mistqt|mitcb|mitcs|mitqb|mitqd|mitqs|mix|mutecuica|mutehibongo|mutehiconga|mutelobongo|muteloconga|mutetriangle|opencuica|openhibongo|openhiconga|openhihat|openlobongo|openloconga|opentriangle|pedalhihat|r|rb|re|reb|rebb|rebhb|rebqt|rebsb|rebtqt|recb|recs|red|redd|redsd|rehb|rehk|rek|rekhk|rekk|reqb|reqd|reqs|res|resb|resd|resqt|ress|restqt|retcb|retcs|retqb|retqd|retqs|rex|ridebell|ridecymbal|ridecymbala|ridecymbalb|ré|réb|rébb|rébsb|réd|rédd|rédsd|résb|résd|réx|shortguiro|shortwhistle|si|sib|sibb|sibhb|sibqt|sibsb|sibtqt|sicb|sics|sid|sidd|sidestick|sidsd|sihb|sihk|sik|sikhk|sikk|siqb|siqd|siqs|sis|sisb|sisd|sisqt|siss|sistqt|sitcb|sitcs|sitqb|sitqd|sitqs|six|sn|sna|snare|sne|sol|solb|solbb|solbhb|solbqt|solbsb|solbtqt|solcb|solcs|sold|soldd|soldsd|solhb|solhk|solk|solkhk|solkk|solqb|solqd|solqs|sols|solsb|solsd|solsqt|solss|solstqt|soltcb|soltcs|soltqb|soltqd|soltqs|solx|splashcymbal|ss|ssh|ssl|tamb|tambourine|timh|timl|tomfh|tomfl|tomh|toml|tommh|tomml|tri|triangle|trim|trio|tt|vibraslap|vibs|wbh|wbl|whl|whs)=?[&#x27;,]*!?\??(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Literal"/></rule>
      <rule pattern="[\-_^]?&quot;"><token type="LiteralString"/><push state="string"/></rule>
      <rule pattern="-?\d+\.\d+"><token type="LiteralNumberFloat"/></rule>
      <rule pattern="-?\d+/\d+"><token type="LiteralNumber"/></rule>
      <rule pattern="(?x)
               (?&lt;= \s ) -\d+
               | (?: (?: \d+ | \\breve | \\longa | \\maxima )
                     \.* )
              "><token type="LiteralNumber"/></rule>
      <rule pattern="\*"><token type="LiteralNumber"/></rule>
      <rule pattern="[~()[\]]"><token type="Name"/></rule>
      <rule pattern="[\-_^][&gt;^_!.\-+]"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\?\d+"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(accepts|addlyrics|alias|book|bookpart|chordmode|chords|consists|context|defaultchild|denies|description|drummode|drums|etc|figuremode|figures|header|include|inherit\-acceptability|language|layout|lyricmode|lyricsto|midi|name|new|notemode|paper|remove|score|type|version|with)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Keyword"/></rule>
      <rule pattern="[\-_^]?(arabic|catalan|català|deutsch|english|espanol|español|français|italiano|nederlands|norsk|portugues|português|suomi|svenska|vlaams)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?(C|F|G|G2|GG|alto|altovarC|baritone|baritonevarC|baritonevarF|bass|blackmensural\-c1|blackmensural\-c2|blackmensural\-c3|blackmensural\-c4|blackmensural\-c5|french|hufnagel\-do\-fa|hufnagel\-do1|hufnagel\-do2|hufnagel\-do3|hufnagel\-fa1|hufnagel\-fa2|kievan\-do|medicaea\-do1|medicaea\-do2|medicaea\-do3|medicaea\-fa1|medicaea\-fa2|mensural\-c1|mensural\-c2|mensural\-c3|mensural\-c4|mensural\-c5|mensural\-f|mensural\-g|mezzosoprano|moderntab|neomensural\-c1|neomensural\-c2|neomensural\-c3|neomensural\-c4|neomensural\-c5|percussion|petrucci\-c1|petrucci\-c2|petrucci\-c3|petrucci\-c4|petrucci\-c5|petrucci\-f|petrucci\-f2|petrucci\-f3|petrucci\-f4|petrucci\-f5|petrucci\-g|petrucci\-g1|petrucci\-g2|soprano|subbass|tab|tenor|tenorG|tenorvarC|treble|varC|varbaritone|varpercussion|vaticana\-do1|vaticana\-do2|vaticana\-do3|vaticana\-fa1|vaticana\-fa2|violin)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(aeolian|dorian|ionian|locrian|lydian|major|minor|mixolydian|phrygian)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?(percent|segno|tremolo|unfold|volta)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(cm|in|mm|pt|staff\-space)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="LiteralNumber"/></rule>
      <rule pattern="[\-_^]?(aug|dim|m|maj)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Literal"/></rule>
      <rule pattern="[\-_^]?\\(=|absolute|acciaccatura|accidentalStyle|addChordShape|addInstrumentDefinition|addQuote|after|afterGrace|allowPageTurn|allowVoltaHook|alterBroken|alternative|ambitusAfter|appendToTag|applyContext|applyMusic|applyOutput|appoggiatura|assertBeamQuant|assertBeamSlope|autoChange|balloonGrobText|balloonText|bar|barNumberCheck|beamExceptions|bendAfter|bendHold|bendStartLevel|bookOutputName|bookOutputSuffix|breathe|caesura|change|chordRepeats|clef|codaMark|compoundMeter|compressMMRests|crossStaff|cueClef|cueClefUnset|cueDuring|cueDuringWithClef|deadNote|defineBarLine|displayLilyMusic|displayMusic|displayScheme|dropNote|enablePolymeter|endSpanners|eventChords|featherDurations|finger|fixed|footnote|grace|grobdescriptions|harmonicByFret|harmonicByRatio|harmonicNote|harmonicsOn|hide|inStaffSegno|incipit|inherit\-acceptability|instrumentSwitch|inversion|invertChords|jump|keepWithTag|key|killCues|label|language|languageRestore|languageSaveAndChange|magnifyMusic|magnifyStaff|makeClusters|makeDefaultStringTuning|mark|markupMap|modalInversion|modalTranspose|musicMap|noPageBreak|noPageTurn|octaveCheck|offset|omit|once|ottava|override|overrideProperty|overrideTimeSignatureSettings|pageBreak|pageTurn|palmMute|palmMuteOn|parallelMusic|parenthesize|partCombine|partCombineDown|partCombineForce|partCombineUp|partial|phrasingSlurDashPattern|pitchedTrill|pointAndClickOff|pointAndClickOn|pointAndClickTypes|preBend|preBendHold|propertyOverride|propertyRevert|propertySet|propertyTweak|propertyUnset|pushToTag|quoteDuring|raiseNote|reduceChords|relative|removeWithTag|repeat|resetRelativeOctave|retrograde|revert|revertTimeSignatureSettings|rightHandFinger|scaleDurations|sectionLabel|segnoMark|set|settingsFrom|shape|shiftDurations|single|skip|slashedGrace|slurDashPattern|staffHighlight|storePredefinedDiagram|stringTuning|styledNoteHeads|tabChordRepeats|tabChordRepetition|tag|tagGroup|tempo|temporary|textEndMark|textMark|tieDashPattern|time|times|tocItem|transpose|transposedCueDuring|transposition|tuplet|tupletSpan|tweak|undo|unfoldRepeats|unfolded|unset|voices|void|volta|vshape|withMusicProperty|xNote)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(!|&lt;|&gt;|cr|cresc|decr|decresc|dim|endcr|endcresc|enddecr|enddecresc|enddim|f|ff|fff|ffff|fffff|fp|fz|mf|mp|n|p|pp|ppp|pppp|ppppp|rfz|sf|sff|sfp|sfz|sp|spp)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(\(|\)|\-|\[|\]|\^|accent|arpeggio|breakDynamicSpan|coda|dashBang|dashDash|dashDot|dashHat|dashLarger|dashPlus|dashUnderscore|downbow|downmordent|downprall|episemFinis|episemInitium|espressivo|fermata|flageolet|glide|glissando|halfopen|harmonic|haydnturn|henzelongfermata|henzeshortfermata|laissezVibrer|lheel|lineprall|longfermata|ltoe|marcato|mordent|noBeam|open|portato|prall|pralldown|prallmordent|prallprall|prallup|repeatTie|reverseturn|rheel|rtoe|segno|shortfermata|signumcongruentiae|slashturn|snappizzicato|sostenutoOff|sostenutoOn|staccatissimo|staccato|startGraceSlur|startGroup|startTextSpan|startTrillSpan|stopGraceSlur|stopGroup|stopTextSpan|stopTrillSpan|stopped|sustainOff|sustainOn|tenuto|thumb|treCorde|trill|turn|unaCorda|upbow|upmordent|upprall|varcoda|verylongfermata|veryshortfermata|vowelTransition|\~)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(\[|\]|aikenHeads|aikenHeadsMinor|aikenThinHeads|aikenThinHeadsMinor|allowBreak|arabicStringNumbers|arpeggioArrowDown|arpeggioArrowUp|arpeggioBracket|arpeggioNormal|arpeggioParenthesis|arpeggioParenthesisDashed|autoBeamOff|autoBeamOn|autoBreaksOff|autoBreaksOn|autoLineBreaksOff|autoLineBreaksOn|autoPageBreaksOff|autoPageBreaksOn|balloonLengthOff|balloonLengthOn|bassFigureExtendersOff|bassFigureExtendersOn|bassFigureStaffAlignmentDown|bassFigureStaffAlignmentNeutral|bassFigureStaffAlignmentUp|break|cadenzaOff|cadenzaOn|compressEmptyMeasures|crescHairpin|crescTextCresc|deadNotesOff|deadNotesOn|defaultNoteHeads|defaultTimeSignature|deprecatedcresc|deprecateddim|deprecatedendcresc|deprecatedenddim|dimHairpin|dimTextDecr|dimTextDecresc|dimTextDim|dotsDown|dotsNeutral|dotsUp|dynamicDown|dynamicNeutral|dynamicUp|easyHeadsOff|easyHeadsOn|endSkipNCs|expandEmptyMeasures|fine|frenchChords|funkHeads|funkHeadsMinor|germanChords|harmonicsOff|hideNotes|hideSplitTiedTabNotes|hideStaffSwitch|huge|ignatzekExceptionMusic|improvisationOff|improvisationOn|italianChords|kievanOff|kievanOn|large|markLengthOff|markLengthOn|medianChordGridStyle|melisma|melismaEnd|mergeDifferentlyDottedOff|mergeDifferentlyDottedOn|mergeDifferentlyHeadedOff|mergeDifferentlyHeadedOn|newSpacingSection|noBreak|normalsize|numericTimeSignature|oneVoice|palmMuteOff|partCombineApart|partCombineAutomatic|partCombineChords|partCombineSoloI|partCombineSoloII|partCombineUnisono|phrasingSlurDashed|phrasingSlurDotted|phrasingSlurDown|phrasingSlurHalfDashed|phrasingSlurHalfSolid|phrasingSlurNeutral|phrasingSlurSolid|phrasingSlurUp|predefinedFretboardsOff|predefinedFretboardsOn|romanStringNumbers|sacredHarpHeads|sacredHarpHeadsMinor|section|semiGermanChords|setDefaultDurationToQuarter|shiftOff|shiftOn|shiftOnn|shiftOnnn|showSplitTiedTabNotes|showStaffSwitch|skipNC|skipNCs|slurDashed|slurDotted|slurDown|slurHalfDashed|slurHalfSolid|slurNeutral|slurSolid|slurUp|small|southernHarmonyHeads|southernHarmonyHeadsMinor|startAcciaccaturaMusic|startAppoggiaturaMusic|startGraceMusic|startMeasureCount|startMeasureSpanner|startSlashedGraceMusic|startStaff|stemDown|stemNeutral|stemUp|stopAcciaccaturaMusic|stopAppoggiaturaMusic|stopGraceMusic|stopMeasureCount|stopMeasureSpanner|stopSlashedGraceMusic|stopStaff|stopStaffHighlight|tabFullNotation|teeny|textLengthOff|textLengthOn|textSpannerDown|textSpannerNeutral|textSpannerUp|tieDashed|tieDotted|tieDown|tieHalfDashed|tieHalfSolid|tieNeutral|tieSolid|tieUp|tiny|tupletDown|tupletNeutral|tupletUp|unHideNotes|voiceFour|voiceFourStyle|voiceNeutralStyle|voiceOne|voiceOneStyle|voiceThree|voiceThreeStyle|voiceTwo|voiceTwoStyle|walkerHeads|walkerHeadsMinor|xNotesOff|xNotesOn|\||\~)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\(abs\-fontsize|accidental|align\-on\-other|arrow\-head|auto\-footnote|backslashed\-digit|beam|bold|box|bracket|caps|center\-align|center\-column|char|circle|coda|column|column\-lines|combine|compound\-meter|concat|conditional\-trill\-markup|customTabClef|dir\-column|discant|doubleflat|doublesharp|draw\-circle|draw\-dashed\-line|draw\-dotted\-line|draw\-hline|draw\-line|draw\-squiggle\-line|dynamic|ellipse|epsfile|eyeglasses|fermata|figured\-bass|fill\-line|fill\-with\-pattern|filled\-box|finger|first\-visible|flat|fontCaps|fontsize|footnote|fraction|freeBass|fret\-diagram|fret\-diagram\-terse|fret\-diagram\-verbose|fromproperty|general\-align|halign|harp\-pedal|hbracket|hcenter\-in|hspace|huge|if|italic|justified\-lines|justify|justify\-field|justify\-line|justify\-string|large|larger|left\-align|left\-brace|left\-column|line|lookup|lower|magnify|map\-markup\-commands|markalphabet|markletter|markup|markuplist|medium|multi\-measure\-rest\-by\-number|musicglyph|natural|normal\-size\-sub|normal\-size\-super|normal\-text|normalsize|note|note\-by\-number|null|number|on\-the\-fly|oval|overlay|override|override\-lines|overtie|pad\-around|pad\-markup|pad\-to\-box|pad\-x|page\-link|page\-ref|parenthesize|path|pattern|polygon|postscript|property\-recursive|put\-adjacent|raise|replace|rest|rest\-by\-number|rhythm|right\-align|right\-brace|right\-column|roman|rotate|rounded\-box|sans|scale|score|score\-lines|segno|semiflat|semisharp|sesquiflat|sesquisharp|sharp|simple|slashed\-digit|small|smallCaps|smaller|stdBass|stdBassIV|stdBassV|stdBassVI|stencil|string\-lines|strut|sub|super|table|table\-of\-contents|teeny|text|tie|tied\-lyric|tiny|translate|translate\-scaled|transparent|triangle|typewriter|underline|undertie|unless|upright|varcoda|vcenter|verbatim\-file|vspace|whiteout|with\-color|with\-dimension|with\-dimension\-from|with\-dimensions|with\-dimensions\-from|with\-link|with\-outline|with\-string\-transformer|with\-true\-dimension|with\-true\-dimensions|with\-url|woodwind\-diagram|wordwrap|wordwrap\-field|wordwrap\-internal|wordwrap\-lines|wordwrap\-string|wordwrap\-string\-internal)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?(Accidental|AccidentalCautionary|AccidentalPlacement|AccidentalSuggestion|Ambitus|AmbitusAccidental|AmbitusLine|AmbitusNoteHead|Arpeggio|BalloonText|BarLine|BarNumber|BassFigure|BassFigureAlignment|BassFigureAlignmentPositioning|BassFigureBracket|BassFigureContinuation|BassFigureLine|Beam|BendAfter|BendSpanner|BreakAlignGroup|BreakAlignment|BreathingSign|CaesuraScript|CenteredBarNumber|CenteredBarNumberLineSpanner|ChordName|ChordSquare|Clef|ClefModifier|ClusterSpanner|ClusterSpannerBeacon|CodaMark|CombineTextScript|ControlPoint|ControlPolygon|CueClef|CueEndClef|Custos|Divisio|DotColumn|Dots|DoublePercentRepeat|DoublePercentRepeatCounter|DoubleRepeatSlash|DurationLine|DynamicLineSpanner|DynamicText|DynamicTextSpanner|Episema|FingerGlideSpanner|Fingering|FingeringColumn|Flag|Footnote|FretBoard|Glissando|GraceSpacing|GridChordName|GridLine|GridPoint|Hairpin|HorizontalBracket|HorizontalBracketText|InstrumentName|InstrumentSwitch|JumpScript|KeyCancellation|KeySignature|KievanLigature|LaissezVibrerTie|LaissezVibrerTieColumn|LedgerLineSpanner|LeftEdge|LigatureBracket|LyricExtender|LyricHyphen|LyricRepeatCount|LyricSpace|LyricText|MeasureCounter|MeasureGrouping|MeasureSpanner|MelodyItem|MensuralLigature|MetronomeMark|MultiMeasureRest|MultiMeasureRestNumber|MultiMeasureRestScript|MultiMeasureRestText|NonMusicalPaperColumn|NoteCollision|NoteColumn|NoteHead|NoteName|NoteSpacing|OttavaBracket|PaperColumn|Parentheses|PercentRepeat|PercentRepeatCounter|PhrasingSlur|PianoPedalBracket|RehearsalMark|RepeatSlash|RepeatTie|RepeatTieColumn|Rest|RestCollision|Script|ScriptColumn|ScriptRow|SectionLabel|SegnoMark|SignumRepetitionis|Slur|SostenutoPedal|SostenutoPedalLineSpanner|SpacingSpanner|SpanBar|SpanBarStub|StaffEllipsis|StaffGrouper|StaffHighlight|StaffSpacing|StaffSymbol|StanzaNumber|Stem|StemStub|StemTremolo|StringNumber|StrokeFinger|SustainPedal|SustainPedalLineSpanner|System|SystemStartBar|SystemStartBrace|SystemStartBracket|SystemStartSquare|TabNoteHead|TextMark|TextScript|TextSpanner|Tie|TieColumn|TimeSignature|TrillLiteralAccidental|TrillPitchGroup|TrillPitchHead|TrillPitchParentheses|TrillSpanner|TupletBracket|TupletNumber|UnaCordaPedal|UnaCordaPedalLineSpanner|VaticanaLigature|VerticalAlignment|VerticalAxisGroup|VoiceFollower|VoltaBracket|VoltaBracketSpanner|VowelTransition)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?(Accidental_engraver|Alteration_glyph_engraver|Ambitus_engraver|Arpeggio_engraver|Auto_beam_engraver|Axis_group_engraver|Balloon_engraver|Bar_engraver|Bar_number_engraver|Beam_collision_engraver|Beam_engraver|Beam_performer|Beat_engraver|Beat_performer|Bend_engraver|Bend_spanner_engraver|Break_align_engraver|Breathing_sign_engraver|Caesura_engraver|Centered_bar_number_align_engraver|Chord_name_engraver|Chord_square_engraver|Chord_tremolo_engraver|Clef_engraver|Cluster_spanner_engraver|Collision_engraver|Completion_heads_engraver|Completion_rest_engraver|Concurrent_hairpin_engraver|Control_track_performer|Cue_clef_engraver|Current_chord_text_engraver|Custos_engraver|Divisio_engraver|Dot_column_engraver|Dots_engraver|Double_percent_repeat_engraver|Drum_note_performer|Drum_notes_engraver|Duration_line_engraver|Dynamic_align_engraver|Dynamic_engraver|Dynamic_performer|Episema_engraver|Extender_engraver|Figured_bass_engraver|Figured_bass_position_engraver|Finger_glide_engraver|Fingering_column_engraver|Fingering_engraver|Font_size_engraver|Footnote_engraver|Forbid_line_break_engraver|Fretboard_engraver|Glissando_engraver|Grace_auto_beam_engraver|Grace_beam_engraver|Grace_engraver|Grace_spacing_engraver|Grid_chord_name_engraver|Grid_line_span_engraver|Grid_point_engraver|Grob_pq_engraver|Horizontal_bracket_engraver|Hyphen_engraver|Instrument_name_engraver|Instrument_switch_engraver|Jump_engraver|Keep_alive_together_engraver|Key_engraver|Key_performer|Kievan_ligature_engraver|Laissez_vibrer_engraver|Ledger_line_engraver|Ligature_bracket_engraver|Lyric_engraver|Lyric_performer|Lyric_repeat_count_engraver|Mark_engraver|Mark_performer|Mark_tracking_translator|Measure_counter_engraver|Measure_grouping_engraver|Measure_spanner_engraver|Melody_engraver|Mensural_ligature_engraver|Merge_mmrest_numbers_engraver|Merge_rests_engraver|Metronome_mark_engraver|Midi_control_change_performer|Multi_measure_rest_engraver|New_fingering_engraver|Non_musical_script_column_engraver|Note_head_line_engraver|Note_heads_engraver|Note_name_engraver|Note_performer|Note_spacing_engraver|Ottava_spanner_engraver|Output_property_engraver|Page_turn_engraver|Paper_column_engraver|Parenthesis_engraver|Part_combine_engraver|Percent_repeat_engraver|Phrasing_slur_engraver|Piano_pedal_align_engraver|Piano_pedal_engraver|Piano_pedal_performer|Literal_squash_engraver|Pitched_trill_engraver|Pure_from_neighbor_engraver|Repeat_acknowledge_engraver|Repeat_tie_engraver|Rest_collision_engraver|Rest_engraver|Rhythmic_column_engraver|Script_column_engraver|Script_engraver|Script_row_engraver|Separating_line_group_engraver|Show_control_points_engraver|Signum_repetitionis_engraver|Skip_typesetting_engraver|Slash_repeat_engraver|Slur_engraver|Slur_performer|Spacing_engraver|Span_arpeggio_engraver|Span_bar_engraver|Span_bar_stub_engraver|Span_stem_engraver|Spanner_break_forbid_engraver|Spanner_tracking_engraver|Staff_collecting_engraver|Staff_highlight_engraver|Staff_performer|Staff_symbol_engraver|Stanza_number_align_engraver|Stanza_number_engraver|Stem_engraver|System_start_delimiter_engraver|Tab_note_heads_engraver|Tab_staff_symbol_engraver|Tab_tie_follow_engraver|Tempo_performer|Text_engraver|Text_mark_engraver|Text_spanner_engraver|Tie_engraver|Tie_performer|Time_signature_engraver|Time_signature_performer|Timing_translator|Trill_spanner_engraver|Tuplet_engraver|Tweak_engraver|Vaticana_ligature_engraver|Vertical_align_engraver|Volta_engraver)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\?(ChoirStaff|ChordGrid|ChordGridScore|ChordNames|CueVoice|Devnull|DrumStaff|DrumVoice|Dynamics|FiguredBass|FretBoards|Global|GrandStaff|GregorianTranscriptionLyrics|GregorianTranscriptionStaff|GregorianTranscriptionVoice|InternalGregorianStaff|KievanStaff|KievanVoice|Lyrics|MensuralStaff|MensuralVoice|NoteNames|NullVoice|OneStaff|PetrucciStaff|PetrucciVoice|PianoStaff|RhythmicStaff|Score|Staff|StaffGroup|StandaloneRhythmScore|StandaloneRhythmStaff|StandaloneRhythmVoice|TabStaff|TabVoice|Timing|VaticanaLyrics|VaticanaStaff|VaticanaVoice|Voice)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?(aDueText|accidentalGrouping|additionalBassStrings|additionalLiteralPrefix|alignAboveContext|alignBelowContext|alterationGlyphs|alternativeNumber|alternativeNumberingStyle|alternativeRestores|associatedVoice|associatedVoiceContext|associatedVoiceType|autoAccidentals|autoBeamCheck|autoBeaming|autoCautionaries|barCheckLastFail|barCheckSynchronize|barExtraVelocity|barNumberFormatter|barNumberVisibility|baseMoment|beamExceptions|beamHalfMeasure|beamMelismaBusy|beatExtraVelocity|beatStructure|breathMarkDefinitions|breathMarkType|busyGrobs|caesuraType|caesuraTypeTransform|centerBarNumbers|chordChanges|chordNameExceptions|chordNameFunction|chordNameLowercaseMinor|chordNameSeparator|chordNoteNamer|chordPrefixSpacer|chordRootNamer|clefGlyph|clefPosition|clefTransposition|clefTranspositionFormatter|clefTranspositionStyle|codaMarkCount|codaMarkFormatter|completionBusy|completionFactor|completionUnit|connectArpeggios|countPercentRepeats|createKeyOnClefChange|createSpacing|crescendoSpanner|crescendoText|cueClefGlyph|cueClefPosition|cueClefTransposition|cueClefTranspositionFormatter|cueClefTranspositionStyle|currentBarLine|currentBarNumber|currentChordCause|currentChordText|currentCommandColumn|currentMusicalColumn|currentPerformanceMarkEvent|currentRehearsalMarkEvent|dalSegnoTextFormatter|decrescendoSpanner|decrescendoText|defaultStrings|doubleRepeatBarType|doubleRepeatSegnoBarType|doubleSlurs|drumPitchTable|drumStyleTable|dynamicAbsoluteVolumeFunction|endAtSkip|endRepeatBarType|endRepeatSegnoBarType|explicitClefVisibility|explicitCueClefVisibility|explicitKeySignatureVisibility|extendersOverRests|extraNatural|figuredBassAlterationDirection|figuredBassCenterContinuations|figuredBassFormatter|figuredBassLargeNumberAlignment|figuredBassPlusDirection|figuredBassPlusStrokedAlist|finalFineTextVisibility|finalizations|fineBarType|fineSegnoBarType|fineStartRepeatSegnoBarType|fineText|fingeringOrientations|firstClef|followVoice|fontSize|forbidBreak|forbidBreakBetweenBarLines|forceBreak|forceClef|fretLabels|glissandoMap|graceSettings|gridInterval|handleNegativeFrets|harmonicAccidentals|harmonicDots|hasAxisGroup|hasStaffSpacing|highStringOne|ignoreBarChecks|ignoreBarNumberChecks|ignoreFiguredBassRest|ignoreMelismata|implicitBassFigures|includeGraceNotes|initialTimeSignatureVisibility|instrumentCueName|instrumentEqualizer|instrumentName|instrumentTransposition|internalBarNumber|keepAliveInterfaces|keyAlterationOrder|keyAlterations|lastChord|lastKeyAlterations|localAlterations|lyricMelismaAlignment|lyricRepeatCountFormatter|magnifyStaffValue|majorSevenSymbol|maximumFretStretch|measureBarType|measureLength|measurePosition|measureStartNow|melismaBusy|melismaBusyProperties|metronomeMarkFormatter|middleCClefPosition|middleCCuePosition|middleCOffset|middleCPosition|midiBalance|midiChannelMapping|midiChorusLevel|midiExpression|midiInstrument|midiMaximumVolume|midiMergeUnisons|midiMinimumVolume|midiPanPosition|midiReverbLevel|midiSkipOffset|minimumFret|minimumPageTurnLength|minimumRepeatLengthForPageTurn|minorLiteral|noChordSymbol|noteNameFunction|noteNameSeparator|noteToFretFunction|nullAccidentals|ottavaStartNow|ottavation|ottavationMarkups|output|partCombineForced|partCombineTextsOnNote|partialBusy|pedalSostenutoStrings|pedalSostenutoStyle|pedalSustainStrings|pedalSustainStyle|pedalUnaCordaStrings|pedalUnaCordaStyle|predefinedDiagramTable|printAccidentalNames|printKeyCancellation|printNotesLanguage|printOctaveNames|printPartCombineTexts|proportionalNotationDuration|quotedCueEventTypes|quotedEventTypes|rehearsalMark|rehearsalMarkFormatter|repeatCommands|repeatCountVisibility|restCompletionBusy|restNumberThreshold|restrainOpenStrings|rootSystem|scriptDefinitions|searchForVoice|sectionBarType|segnoBarType|segnoMarkCount|segnoMarkFormatter|segnoStyle|shapeNoteStyles|shortInstrumentName|shortVocalName|skipBars|skipTypesetting|slashChordSeparator|slurMelismaBusy|soloIIText|soloText|squashedPosition|staffLineLayoutFunction|stanza|startAtNoteColumn|startAtSkip|startRepeatBarType|startRepeatSegnoBarType|stavesFound|stemLeftBeamCount|stemRightBeamCount|strictBeatBeaming|stringFretFingerList|stringNumberOrientations|stringOneTopmost|stringTunings|strokeFingerOrientations|subdivideBeams|suggestAccidentals|supportNonIntegerFret|suspendMelodyDecisions|suspendRestMerging|systemStartDelimiter|systemStartDelimiterHierarchy|tabStaffLineLayoutFunction|tablatureFormat|tempoHideNote|tempoWholesPerMinute|tieMelismaBusy|tieWaitForNote|timeSignatureFraction|timeSignatureSettings|timing|tonic|topLevelAlignment|tupletFullLength|tupletFullLengthNote|tupletSpannerDuration|underlyingRepeatBarType|useBassFigureExtenders|vocalName|voltaSpannerDuration|whichBar)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="NameProperty"/></rule>
      <rule pattern="[\-_^]?(X\-align\-on\-main\-noteheads|X\-attachment|X\-common|X\-extent|X\-offset|X\-positions|Y\-attachment|Y\-common|Y\-extent|Y\-offset|accidental\-grob|accidental\-grobs|add\-cauda|add\-join|add\-stem|add\-stem\-support|adjacent\-pure\-heights|adjacent\-spanners|after\-line\-breaking|align\-dir|all\-elements|allow\-loose\-spacing|allow\-span\-bar|alteration|alteration\-alist|alteration\-glyph\-name\-alist|annotation|annotation\-balloon|annotation\-line|arpeggio\-direction|arrow\-length|arrow\-width|ascendens|auctum|auto\-knee\-gap|automatically\-numbered|average\-spacing\-wishes|avoid\-note\-head|avoid\-scripts|avoid\-slur|axes|axis\-group\-parent\-X|axis\-group\-parent\-Y|bar\-extent|bars|base\-shortest\-duration|baseline\-skip|beam|beam\-segments|beam\-thickness|beam\-width|beamed\-stem\-shorten|beaming|beamlet\-default\-length|beamlet\-max\-length\-proportion|before\-line\-breaking|begin\-of\-line\-visible|bend\-me|between\-cols|bezier|bound\-alignment\-interfaces|bound\-details|bound\-padding|bound\-prefatory\-paddings|bounded\-by\-me|bracket|bracket\-flare|bracket\-text|bracket\-visibility|break\-align\-anchor|break\-align\-anchor\-alignment|break\-align\-orders|break\-align\-symbol|break\-align\-symbols|break\-alignment|break\-overshoot|break\-visibility|breakable|broken\-bound\-padding|c0\-position|cause|cavum|chord\-dots\-limit|chord\-names|circled\-tip|clef\-alignments|clip\-edges|collapse\-height|collision\-interfaces|collision\-voice\-only|color|columns|common\-shortest\-duration|concaveness|concurrent\-hairpins|conditional\-elements|connect\-to\-neighbor|context\-info|control\-points|count\-from|covered\-grobs|cross\-staff|damping|dash\-definition|dash\-fraction|dash\-period|dashed\-edge|default\-direction|default\-staff\-staff\-spacing|delta\-position|deminutum|descendens|details|digit\-names|direction|direction\-source|display\-cautionary|dot|dot\-count|dot\-negative\-kern|dot\-placement\-list|dot\-stencil|dots|double\-stem\-separation|duration\-log|eccentricity|edge\-height|edge\-text|elements|encompass\-objects|endpoint\-alignments|expand\-limit|extra\-dy|extra\-offset|extra\-spacing\-height|extra\-spacing\-width|extroversion|fa\-merge\-direction|fa\-styles|figures|filled|flag|flag\-count|flag\-style|flat\-positions|flexa\-height|flexa\-interval|flexa\-width|font|font\-encoding|font\-family|font\-features|font\-name|font\-series|font\-shape|font\-size|footnote|footnote\-music|footnote\-stencil|footnote\-text|footnotes\-after\-line\-breaking|footnotes\-before\-line\-breaking|force\-hshift|forced|forced\-spacing|fraction|french\-beaming|french\-beaming\-stem\-adjustment|fret\-diagram\-details|full\-length\-padding|full\-length\-to\-extent|full\-measure\-extra\-space|full\-size\-change|gap|gap\-count|glissando\-index|glissando\-skip|glyph|glyph\-left|glyph\-name|glyph\-right|grace\-spacing|graphical|grow\-direction|hair\-thickness|harp\-pedal\-details|has\-span\-bar|head\-direction|head\-width|heads|height|height\-limit|hide\-tied\-accidental\-after\-break|horizon\-padding|horizontal\-shift|horizontal\-skylines|id|ideal\-distances|ignore\-ambitus|ignore\-collision|implicit|important\-column\-ranks|in\-note\-direction|in\-note\-padding|in\-note\-stencil|inclinatum|index|inspect\-quants|interfaces|items\-worth\-living|keep\-alive\-with|keep\-inside\-line|kern|knee|knee\-spacing\-correction|knee\-to\-beam|labels|layer|least\-squares\-dy|ledger\-extra|ledger\-line\-thickness|ledger\-positions|ledger\-positions\-function|left\-bound\-info|left\-items|left\-neighbor|left\-number\-text|left\-padding|length|length\-fraction|ligature\-flexa|line\-break\-penalty|line\-break\-permission|line\-break\-system\-details|line\-count|line\-positions|line\-thickness|linea|long\-text|main\-extent|make\-dead\-when|max\-beam\-connect|max\-symbol\-separation|maximum\-gap|maybe\-loose|measure\-count|measure\-division|measure\-division\-chord\-placement\-alist|measure\-division\-lines\-alist|measure\-length|melody\-spanner|merge\-differently\-dotted|merge\-differently\-headed|meta|minimum\-X\-extent|minimum\-Y\-extent|minimum\-distance|minimum\-distances|minimum\-length|minimum\-length\-after\-break|minimum\-length\-fraction|minimum\-space|minimum\-translations\-alist|neighbors|neutral\-direction|neutral\-position|next|no\-ledgers|no\-stem\-extend|non\-break\-align\-symbols|non\-default|non\-musical|nonstaff\-nonstaff\-spacing|nonstaff\-relatedstaff\-spacing|nonstaff\-unrelatedstaff\-spacing|normal\-stems|normalized\-endpoints|note\-collision|note\-collision\-threshold|note\-columns|note\-head|note\-heads|note\-names|number\-range\-separator|number\-type|numbering\-assertion\-function|oriscus|output\-attributes|outside\-staff\-horizontal\-padding|outside\-staff\-padding|outside\-staff\-placement\-directive|outside\-staff\-priority|packed\-spacing|padding|padding\-pairs|page\-break\-penalty|page\-break\-permission|page\-number|page\-turn\-penalty|page\-turn\-permission|parent\-alignment\-X|parent\-alignment\-Y|parenthesis\-friends|parenthesis\-id|parenthesized|pedal\-text|pes\-or\-flexa|positioning\-done|positions|prefer\-dotted\-right|prefix\-set|primitive|protrusion|pure\-Y\-common|pure\-Y\-extent|pure\-Y\-offset\-in\-progress|pure\-relevant\-grobs|pure\-relevant\-items|pure\-relevant\-spanners|quantize\-position|quantized\-positions|quilisma|rank\-on\-page|ratio|remove\-empty|remove\-first|remove\-layer|replacement\-alist|rest|rest\-collision|restore\-first|rests|rhythmic\-location|right\-bound\-info|right\-items|right\-neighbor|right\-number\-text|right\-padding|rotation|round\-up\-exceptions|round\-up\-to\-longer\-rest|rounded|same\-direction\-correction|script\-column|script\-priority|script\-stencil|scripts|segno\-kern|self\-alignment\-X|self\-alignment\-Y|shape|sharp\-positions|shorten|shorten\-pair|shortest\-duration\-space|shortest\-playing\-duration|shortest\-starter\-duration|show\-control\-points|show\-horizontal\-skylines|show\-vertical\-skylines|side\-axis|side\-relative\-direction|side\-support\-elements|size|skip\-quanting|skyline\-horizontal\-padding|skyline\-vertical\-padding|slash\-negative\-kern|slope|slur|slur\-padding|snap\-radius|space\-alist|space\-increment|space\-to\-barline|spacing|spacing\-increment|spacing\-pair|spacing\-wishes|span\-start|spanner\-broken|spanner\-id|spanner\-placement|springs\-and\-rods|stacking\-dir|staff\-affinity|staff\-grouper|staff\-padding|staff\-position|staff\-space|staff\-staff\-spacing|staff\-symbol|staffgroup\-staff\-spacing|stem|stem\-attachment|stem\-begin\-position|stem\-info|stem\-spacing\-correction|stemlet\-length|stems|stencil|stencils|sticky\-host|strict\-grace\-spacing|strict\-note\-spacing|stroke\-style|stropha|style|system\-Y\-offset|text|text\-alignment\-X|text\-alignment\-Y|text\-direction|thick\-thickness|thickness|tie|tie\-configuration|ties|to\-barline|toward\-stem\-shift|toward\-stem\-shift\-in\-column|transparent|tremolo\-flag|tuplet\-number|tuplet\-slur|tuplet\-start|tuplets|uniform\-stretching|usable\-duration\-logs|use\-skylines|used|vertical\-alignment|vertical\-skyline\-elements|vertical\-skylines|virga|visible\-over\-note\-heads|voiced\-position|when|whiteout|whiteout\-style|widened\-extent|width|woodwind\-diagram\-details|word\-space|x\-offset|zigzag\-length|zigzag\-width)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="NameProperty"/><push state="maybe-subproperties"/></rule>
      <rule pattern="[\-_^]?\\?(auto\-first\-page\-number|basic\-distance|binding\-offset|blank\-last\-page\-penalty|blank\-page\-penalty|bookTitleMarkup|bottom\-margin|check\-consistency|evenFooterMarkup|evenHeaderMarkup|first\-page\-number|footnote\-separator\-markup|horizontal\-shift|indent|inner\-margin|last\-bottom\-spacing|left\-margin|line\-width|markup\-markup\-spacing|markup\-system\-spacing|max\-systems\-per\-page|min\-systems\-per\-page|minimum\-distance|oddFooterMarkup|oddHeaderMarkup|outer\-margin|padding|page\-breaking|page\-breaking\-system\-system\-spacing|page\-count|page\-number\-type|page\-spacing\-weight|paper\-height|paper\-width|print\-all\-headers|print\-first\-page\-number|ragged\-bottom|ragged\-last|ragged\-last\-bottom|ragged\-right|right\-margin|score\-markup\-spacing|score\-system\-spacing|scoreTitleMarkup|short\-indent|stretchability|system\-count|system\-separator\-markup|system\-system\-spacing|systems\-per\-page|top\-margin|top\-markup\-spacing|top\-system\-spacing|two\-sided)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\?(arranger|composer|copyright|dedication|doctitle|instrument|lsrtags|meter|opus|piece|poet|subsubtitle|subtitle|tagline|texidoc|title)(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="[\-_^]?\\.+?(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Name"/></rule>
      <rule pattern="(?x)
               (?: [^\W\d] | - )+
               (?= (?: [^\W\d] | [\-.] )* \s* = )
              "><token type="Name"/></rule>
      <rule pattern="([^\W\d]|-)+?(?=\d|[^\w\-]|[\-_][\W\d])"><token type="Text"/></rule>
      <rule pattern="."><token type="Text"/></rule>
    </state>
    <state name="string">
      <rule pattern="&quot;"><token type="LiteralString"/><pop depth="1"/></rule>
      <rule pattern="\\."><token type="LiteralStringEscape"/></rule>
      <rule pattern="[^\\&quot;]+"><token type="LiteralString"/></rule>
    </state>
    <state name="value">
      <rule pattern="#\{"><token type="Punctuation"/><push state="#pop" state="root"/></rule>
      <rule pattern=";.*?$"><token type="CommentSingle"/></rule>
      <rule pattern="#\|"><token type="CommentMultiline"/><push state="multiline-comment"/></rule>
      <rule pattern="#;[([]"><token type="Comment"/><push state="commented-form"/></rule>
      <rule pattern="#;"><token type="Comment"/><push state="commented-datum"/></rule>
      <rule pattern="#!r6rs"><token type="Comment"/></rule>
      <rule pattern="\s+"><token type="TextWhitespace"/></rule>
      <rule pattern="(?x)
          (
            
          (
            ( \#[bB] ) (\#[iIeE])?
            | \#[iIeE] ( \#[bB] )
          )
        
            
          (
            
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [01]+
            ( / [01]+ )?
          )
            # Sign optional
          )
        ?  [+-]  ((nan.0|inf.0)|
          (
            [01]+
            ( / [01]+ )?
          )
        )?  i
            | 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [01]+
            ( / [01]+ )?
          )
            # Sign optional
          )
         (@ 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [01]+
            ( / [01]+ )?
          )
            # Sign optional
          )
        )?

          )
        
          )
          # Need to ensure we have a full token. 1+ is not a
          # number followed by something else, but a function
          # name.
          
      (?=
        \s         # whitespace
        | ;        # comment
        | \#[;|!] # fancy comments
        | [)\]]    # end delimiters
        | $        # end of file
      )
    
        "><token type="LiteralNumberBin"/><pop depth="1"/></rule>
      <rule pattern="(?x)
          (
            
          (
            ( \#[oO] ) (\#[iIeE])?
            | \#[iIeE] ( \#[oO] )
          )
        
            
          (
            
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-7]+
            ( / [0-7]+ )?
          )
            # Sign optional
          )
        ?  [+-]  ((nan.0|inf.0)|
          (
            [0-7]+
            ( / [0-7]+ )?
          )
        )?  i
            | 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-7]+
            ( / [0-7]+ )?
          )
            # Sign optional
          )
         (@ 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-7]+
            ( / [0-7]+ )?
          )
            # Sign optional
          )
        )?

          )
        
          )
          # Need to ensure we have a full token. 1+ is not a
          # number followed by something else, but a function
          # name.
          
      (?=
        \s         # whitespace
        | ;        # comment
        | \#[;|!] # fancy comments
        | [)\]]    # end delimiters
        | $        # end of file
      )
    
        "><token type="LiteralNumberOct"/><pop depth="1"/></rule>
      <rule pattern="(?x)
          (
            
          (
            ( (\#[dD])? ) (\#[iIeE])?
            | \#[iIeE] ( (\#[dD])? )
          )
        
            
          (
            
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
              (
                
              (
                # Decimal part
                (
                  [0-9]+ ([.][0-9]*)?
                  | [.][0-9]+
                )

                # Optional exponent
                (
                  [eEsSfFdDlL] [+-]? [0-9]+
                )?

                # Optional mantissa width
                (
                  \|[0-9]+
                )?
              )
             (?!/)
                | 
          (
            [0-9]+
            ( / [0-9]+ )?
          )
        
              )
                # Sign optional
          )
        ?  [+-]  ((nan.0|inf.0)|
              (
                
              (
                # Decimal part
                (
                  [0-9]+ ([.][0-9]*)?
                  | [.][0-9]+
                )

                # Optional exponent
                (
                  [eEsSfFdDlL] [+-]? [0-9]+
                )?

                # Optional mantissa width
                (
                  \|[0-9]+
                )?
              )
             (?!/)
                | 
          (
            [0-9]+
            ( / [0-9]+ )?
          )
        
              )
            )?  i
            | 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
              (
                
              (
                # Decimal part
                (
                  [0-9]+ ([.][0-9]*)?
                  | [.][0-9]+
                )

                # Optional exponent
                (
                  [eEsSfFdDlL] [+-]? [0-9]+
                )?

                # Optional mantissa width
                (
                  \|[0-9]+
                )?
              )
             (?!/)
                | 
          (
            [0-9]+
            ( / [0-9]+ )?
          )
        
              )
                # Sign optional
          )
         (@ 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
              (
                
              (
                # Decimal part
                (
                  [0-9]+ ([.][0-9]*)?
                  | [.][0-9]+
                )

                # Optional exponent
                (
                  [eEsSfFdDlL] [+-]? [0-9]+
                )?

                # Optional mantissa width
                (
                  \|[0-9]+
                )?
              )
             (?!/)
                | 
          (
            [0-9]+
            ( / [0-9]+ )?
          )
        
              )
                # Sign optional
          )
        )?

          )
        
          )
          # Need to ensure we have a full token. 1+ is not a
          # number followed by something else, but a function
          # name.
          
      (?=
        \s         # whitespace
        | ;        # comment
        | \#[;|!] # fancy comments
        | [)\]]    # end delimiters
        | $        # end of file
      )
    
        "><token type="LiteralNumber"/><pop depth="1"/></rule>
      <rule pattern="(?x)
          (
            
          (
            ( \#[xX] ) (\#[iIeE])?
            | \#[iIeE] ( \#[xX] )
          )
        
            
          (
            
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-9a-fA-F]+
            ( / [0-9a-fA-F]+ )?
          )
            # Sign optional
          )
        ?  [+-]  ((nan.0|inf.0)|
          (
            [0-9a-fA-F]+
            ( / [0-9a-fA-F]+ )?
          )
        )?  i
            | 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-9a-fA-F]+
            ( / [0-9a-fA-F]+ )?
          )
            # Sign optional
          )
         (@ 
          (
            [+-] (nan.0|inf.0)  # Sign mandatory
            | [+-]? 
          (
            [0-9a-fA-F]+
            ( / [0-9a-fA-F]+ )?
          )
            # Sign optional
          )
        )?

          )
        
          )
          # Need to ensure we have a full token. 1+ is not a
          # number followed by something else, but a function
          # name.
          
      (?=
        \s         # whitespace
        | ;        # comment
        | \#[;|!] # fancy comments
        | [)\]]    # end delimiters
        | $        # end of file
      )
    
        "><token type="LiteralNumberHex"/><pop depth="1"/></rule>
      <rule pattern="&quot;"><token type="LiteralString"/><push state="string"/></rule>
      <rule pattern="&#x27;[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="LiteralStringSymbol"/><pop depth="1"/></rule>
      <rule pattern="#:[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="KeywordDeclaration"/><pop depth="1"/></rule>
      <rule pattern="#\\([()/&#x27;\&quot;._!§$%&amp; ?=+-]|[a-zA-Z0-9]+)"><token type="LiteralStringChar"/><pop depth="1"/></rule>
      <rule pattern="(#t|#f)"><token type="NameConstant"/><pop depth="1"/></rule>
      <rule pattern="(&#x27;|#|`|,@|,|\.)"><token type="Operator"/></rule>
      <rule pattern="(?&lt;=&#x27;\()[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="NameVariable"/><pop depth="1"/></rule>
      <rule pattern="(?&lt;=#\()[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="NameVariable"/><pop depth="1"/></rule>
      <rule pattern="(?&lt;=\()[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="NameFunction"/><pop depth="1"/></rule>
      <rule pattern="[\w!$%&amp;*+,/:&lt;=&gt;?@^~|-]+"><token type="NameVariable"/><pop depth="1"/></rule>
      <rule pattern="[([]"><token type="Punctuation"/><push state="scheme-root"/></rule>
      <rule pattern="[)\]]"><token type="Punctuation"/><pop depth="3"/></rule>
    </state>
    <state name="maybe-subproperties">
      <rule pattern="\s+"><token type="TextWhitespace"/></rule>
      <rule pattern="(\.)((?:[^\W\d]|-)+?)(?=\d|[^\w\-]|[\-_][\W\d])"><bygroups><token type="Punctuation"/><token type="NameProperty"/></bygroups></rule>
      <rule><pop depth="1"/></rule>
    </state>
    <state name="scheme-root">
      <rule><push state="value"/></rule>
    </state>
    <state name="multiline-comment">
      <rule pattern="#\|"><token type="CommentMultiline"/><push/></rule>
      <rule pattern="\|#"><token type="CommentMultiline"/><pop depth="1"/></rule>
      <rule pattern="[^|#]+"><token type="CommentMultiline"/></rule>
      <rule pattern="[|#]"><token type="CommentMultiline"/></rule>
    </state>
    <state name="commented-form">
      <rule pattern="[([]"><token type="Comment"/><push/></rule>
      <rule pattern="[)\]]"><token type="Comment"/><pop depth="1"/></rule>
      <rule pattern="[^()[\]]+"><token type="Comment"/></rule>
    </state>
    <state name="commented-datum">
      <rule pattern="(?x).*?
      (?=
        \s         # whitespace
        | ;        # comment
        | \#[;|!] # fancy comments
        | [)\]]    # end delimiters
        | $        # end of file
      )
    "><token type="Comment"/><pop depth="1"/></rule>
    </state>
  </rules>
</lexer>

